
h3. О проекте FlyMon dashboard

---

h4. Разделы инструкции по настройке:

* "Введение":#about
* "Регистрация аккаунта на MQTT сервере":#account
* "Создание прошивки в конструкторе WiFi-IoT":#firmware
* "Структура топиков MQTT":#mqtt
* "Настройка модуля ESP8266":#esp8266
* "Настройка раздела Datasources в дашбоарде":#sources
* "Настройка лицевой панели в дашбоарде":#panel
* "Сохраниение и восстановление настроек дашбоарда":#save
* "Задачи и план работ":#notify

---

h4(#about). Введение

p. FlyMon dashboard является отдельным компонентом общей системы управления устройствами "FlyMon DMS":http://flymon.net.

---

h4(#account). Регистрация аккаунта на MQTT сервере

p. Для регистрации нового MQTT аккаунта на сервере необходимо прислать Email на адрес *flyrouter&gmail.com*, в котором, в произвольной форме, сообщить о своём желании. Так-же можно указать стартовый буквенно-цифровой пароль. Если пароль не будет указан в письме явно, его генерация произойдёт автоматически.

p. Обращаем особое внимание на то, что ваш регистрационный E-mail должен быть указан во всех заявках, формах и устройствах только прописными (маленькими) буквами, а так-же общая длинна E-mail адреса должена быть не более 20 символов, с учётом разделительных точек и дефисов (если есть).

p. В случае утери или необходимости смены пароля, необходимо отправить запрос в произвольной форме на административный Email, указанный выше. В ближайшем будущем планируется синхронизация (объединение) базы MQTT и FlyMon DMS, что позволит пользователям регистрироваться автоматически и самостоятельно изменять пароли.

---

h4(#firmware). Создание прошивки в конструкторе WiFi-IoT

p. При создании прошивки в конструкторе "WiFi-IoT":http://wifi-iot.ru обязательно должны быть включены две опции - "MQTT клиент" и "MQTT Lite".

---

h4(#mqtt). Структура топиков MQTT

p. ...

---

h4(#esp8266). Настройка модуля ESP8266

p. В разделе настроек MQTT на модулях ESP8266 указывайте время передачи не менее 10 сек. Передача с интервалом 5 сек. допускается только на короткий промежуток времени в качестве теста (в случае длительной работы аккаунт блокируется).

---

h4(#sources). Настройка раздела Datasources в дашбоарде

p. ...

---

h4(#panel). Настройка лицевой панели в дашбоарде

p. ...

---

h4(#save). Сохраниение и восстановление настроек дашбоарда

p. Вверху дашбоарда находится гаечный ключ, при клике на который откроется меню настроек.

p. Для сохранения файла в формате json на PC необходимо слева вверху кликнуть сначала на [SAVE DASHBOARD], а затем на [PRETTY].

p. Для загрузки файла необходимо кликнуть вверху [LOAD DASHBOARD] и выбрать файл на локальном PC.

---

h4(#notify). Известные баги и общий план работ

<i class="fa fa-bug"></i>  Баг, при котором не отправляются данные по MQTT из-за невозможности определения IP адреса сервера.

p. Выявляется при вызове режима отладки в браузере http://ip_адрес_вашего_модуля/debug.

p. При баге строка выглядит так - "MQTT IP: 0.0.0.0. State: 8 / Errors: 0".

p. Временно баг лечится прямым указанием IP адреса сервера вместо его DNS имени - 178.62.248.4.

p. В нормальном режиме, строка дебага должна выглядеть так - "MQTT IP: 178.62.248.4 State: 8 / Errors: 0".

---

<i class="fa fa-leaf"></i> Добавить новый индикатор в разделе виджетов - "Пример":http://console.flymon.net/3/3.html

